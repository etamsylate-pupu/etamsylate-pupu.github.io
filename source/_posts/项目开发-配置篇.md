---
title: 项目开发-配置篇 | Go
tags: [develop]
date: 2023-08-25 22:18:01
categories: technique
urlname: 24
---

[Viper][1]是适用于Go的配置管理工具。它被设计用于在应用程序中工作，并且可以处理多种类型的配置需求和格式。Viper支持:
- 设置默认值
- 从JSON、TOML、YAML、HCL、envfile和Java properties格式的配置文件读取配置信息
- 实时监控和重新读取配置文件（可选）
- 从环境变量中读取
- 从远程配置系统（etcd或Consul）读取并监控配置变化
- 从命令行参数读取配置
- 从buffer读取配置
- 显式配置值


Viper会按照如下优先级读取配置:
- 显示调用Set设置值
- 命令行参数（flag）
- 环境变量
- 配置文件
- key/value存储
- 默认值



> 设置默认值
默认值是可选的，但如果没有通过配置文件、环境变量、远程配置或命令行标志（flag）设置值，设置默认值则具有重要性。

```
viper.SetDefault("ContentDir", "content")
viper.SetDefault("LayoutDir", "layouts")
viper.SetDefault("Taxonomies", map[string]string{"tag": "tags", "category": "categories"})
```






[1]: https://github.com/spf13/viper