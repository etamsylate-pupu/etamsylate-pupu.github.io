---
title: 代码练习 | 数组（二分查找）
tags: [leetcode]
date: 2024-03-29 16:31:04
categories: technique
urlname: 29
---

## 二分查找


### 704. 二分查找

leetcode链接：[二分查找][1]


给定一个 n 个元素有序的（升序）整型数组 nums 和一个目标值 target ，写一个函数搜索 nums 中的 target，如果目标值存在返回下标，否则返回 -1。

示例 1:

输入: nums = [-1,0,3,5,9,12], target = 9
输出: 4
解释: 9 出现在 nums 中并且下标为 4
示例 2:

输入: nums = [-1,0,3,5,9,12], target = 2
输出: -1
解释: 2 不存在 nums 中因此返回 -1

提示：

你可以假设 nums 中的所有元素是不重复的。
n 将在 [1, 10000]之间。
nums 的每个元素都将在 [-9999, 9999]之间。


思路：
考虑在闭区间[left, right]查找与target值相同的元素，left初始值为0，right初始值为len(nums) -1，由于left = right时区间是有意义的，因此考虑循环条件为left <= right。当middle位置元素大于target，则说明目标元素可能在[left, middle-1]，right更新。当middle位置元素小于target，则说明目标元素可能在[middle + 1, right]，当middle位置元素等于target，直接返回middle。循环结束则不存在目标值，返回-1。



核心代码实现：

```
func search(nums []int, target int) int {
    left := 0
    right := len(nums) - 1
    for (left <= right){
        middle := left + ((right - left) / 2)
        if(target < nums[middle]){
            right = middle - 1    
        }
        if(target > nums[middle]){ 
            left = middle + 1    
        }
        if target == nums[middle]{
            return middle
        } 
    }
    return -1
}

```

### 35. 搜索插入位置

leetcode链接：[搜索插入位置][2]

给定一个排序数组和一个目标值，在数组中找到目标值，并返回其索引。如果目标值不存在于数组中，返回它将会被按顺序插入的位置。

请必须使用时间复杂度为 O(log n) 的算法

示例 1:
输入: nums = [1,3,5,6], target = 5
输出: 2

示例 2:
输入: nums = [1,3,5,6], target = 2
输出: 1

示例 3:
输入: nums = [1,3,5,6], target = 7
输出: 4

提示:

1 <= nums.length <= $10^4$
$-10^4$ <= nums[i] <= $10^4$
nums 为 无重复元素 的 升序 排列数组
$-10^4$ <= target <= $10^4$

思路：当遇到排序数组时，就可以考虑二分查找。由题意知“nums为**无重复元素**的**升序**数组”，和704思路类似，考虑在闭区间[left, right]查找与target值相同的元素，但是此时若查找不到目标元素需要将“按顺序插入的位置”返回。针对查找不到目标元素这一情景，因为我们考虑的是闭区间[left, right]，循环条件为left <= right，循环结束时，left > right，target值插入位置位于left。

核心代码实现：

```
func searchInsert(nums []int, target int) int {
    left := 0
    right := len(nums) - 1
    middle := 0
    for (left <= right){
        middle = left + ((right - left) / 2) 
        if target < nums[middle]{
            right = middle - 1
        }
        if target > nums[middle]  {
            left = middle + 1
        }
        if nums[middle] == target{
            return middle
        }

    }

    return left

}
```


### 34. 在排序数组中查找元素的第一个和最后一个位置

leetcode链接：[在排序数组中查找元素的第一个和最后一个位置][3]


[1]: https://leetcode.cn/problems/binary-search/description/
[2]: https://leetcode.cn/problems/search-insert-position/description/
[3]: 