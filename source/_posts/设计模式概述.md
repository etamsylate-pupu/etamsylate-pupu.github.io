---
title: 设计模式
tags: [design pattern]
date: 2024-08-03 18:49:32
categories: technique
urlname: 46
---

> 软件设计模式(Design Pattern)是一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结，使用设计模式是为了可重用代码、让代码更容易被他人理解并且保证代码可靠性。


设计模式目前包括： GoF提出的23种设计模式  + “简单工厂模式” ，可以分为以下几类
- 创建型(Creational)模式：如何创建对象；
- 结构型(Structural)模式：如何实现类或对象的组合；
- 行为型(Behavioral)模式：类或对象怎样交互以及怎样分配职责。



## 创建型模式

### 单例模式（Singleton）

确保一个类仅有一个实例，并提供一个访问它的全局访问。


实现单例模式的步骤为：

- 类私有化：外部不能通过这个类直接创建一个对象
- 提供一个全局访问点：对外提供一个方法来获取这个唯一实例对象
- 确保线程安全：在并发环境下，确保实例的创建是线程安全的

单例模式分为饿汉式和懒汉式，前者在初始化单例唯一指针的时候，就已经提前开辟好了一个对象，申请了内存；后者在第一次使用时才创建实例。饿汉式的好处是，不会出现线程并发创建，导致多个单例的出现，但是缺点是如果这个单例对象在业务逻辑没有被使用，也会客观的创建一块内存对象。懒汉式的好处是延迟实例化，节省资源，但需要处理多线程环境下的同步问题。

- 懒汉式

```
// 私有类，首字母名称小写
type singleton struct{}

// 指针指向这个唯一对象，golang没有长指针概念，则将指针私有化不让外部模块访问
var instance *singleton

// 对外提供方法或者这个唯一实例对象
func GetInstanceLazyUnsafe() *singleton {

	//首次调用才生成单例的实例，非线程安全
	if instance == nil {
		instance = new(singleton)
		return instance
	}
	return instance
}

```


- 饿汉式

```
// 私有类，首字母名称小写
type singleton struct{}

// 包加载时创建
var instanceEager *singleton = new(singleton)

func GetInstanceEager()*singleton{
	return instance
}
```




### 简单工厂模式（Simple Factory）


通过专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有共同的父类。

### 工厂方法模式

定义一个创建产品对象的工厂接口，将实际创建工作推迟到子类，


### 抽象工厂模式

提供一个创建一系列相关或相互依赖的接口，而无需指定它们具体的类



### 原型模式

用原型实例指定创建对象的种类，并通过拷贝这些原型创建新的对象


### 建造者模式

将一个复杂的构建与其


## 结构型模式


## 行为型模式